<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>üêç PyTricks.py | Shenlong616</title><meta name=keywords content="python,python tips,python tricks"><meta name=description content="List of Python tricks from Dan Bader's (realpython.com) newsletter"><meta name=author content="wcarhart, dbader"><link rel=canonical href=https://gist.github.com/wcarhart/8d897d723ba6cd2af75115c38427e233><meta name=google-site-verification content="AzXCkO0tq4MO96bDYSrwJRKKCYqk92c1N2Yere6jdxc"><meta name=msvalidate.01 content="24E5C745EF8D6815F97FBCACA22956C9"><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://shenlong616.github.io/favicon/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://shenlong616.github.io/favicon/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://shenlong616.github.io/favicon/favicon-32x32.png><link rel=apple-touch-icon href=https://shenlong616.github.io/favicon/apple-touch-icon.png><link rel=mask-icon href=https://shenlong616.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><style>@import 'https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap'</style><script>!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.NProgress=t()}(this,function(){var n,s,o,c,e={version:"0.2.0"},t=e.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function a(e,t,n){return e<t?t:n<e?n:e}function i(e){return 100*(-1+e)}e.configure=function(e){var n,s;for(n in e)void 0!==(s=e[n])&&e.hasOwnProperty(n)&&(t[n]=s);return this},e.status=null,e.set=function(n){l=e.isStarted(),n=a(n,t.minimum,1),e.status=1===n?null:n;var l,s=e.render(!l),d=s.querySelector(t.barSelector),r=t.speed,u=t.easing;return s.offsetWidth,c(function(a){""===t.positionUsing&&(t.positionUsing=e.getPositioningCSS()),o(d,function(e,n,s){var o="translate3d"===t.positionUsing?{transform:"translate3d("+i(e)+"%,0,0)"}:"translate"===t.positionUsing?{transform:"translate("+i(e)+"%,0)"}:{"margin-left":i(e)+"%"};return o.transition="all "+n+"ms "+s,o}(n,r,u)),1===n?(o(s,{transition:"none",opacity:1}),s.offsetWidth,setTimeout(function(){o(s,{transition:"all "+r+"ms linear",opacity:0}),setTimeout(function(){e.remove(),a()},r)},r)):setTimeout(a,r)}),this},e.isStarted=function(){return"number"==typeof e.status},e.start=function(){e.status||e.set(0);var n=function(){setTimeout(function(){e.status&&(e.trickle(),n())},t.trickleSpeed)};return t.trickle&&n(),this},e.done=function(t){return t||e.status?e.inc(.3+.5*Math.random()).set(1):this},e.inc=function(t){var n=e.status;return n?("number"!=typeof t&&(t=(1-n)*a(Math.random()*n,.1,.95)),n=a(n+t,0,.994),e.set(n)):e.start()},e.trickle=function(){return e.inc(Math.random()*t.trickleRate)},s=n=0,e.promise=function(t){return t&&"resolved"!==t.state()&&(0===s&&e.start(),n++,s++,t.always(function(){0==--s?(n=0,e.done()):e.set((n-s)/n)})),this},e.render=function(n){if(e.isRendered())return document.getElementById("nprogress");l(document.documentElement,"nprogress-busy"),s=document.createElement("div"),s.id="nprogress",s.innerHTML=t.template;var s,r,c=s.querySelector(t.barSelector),d=n?"-100":i(e.status||0),a=document.querySelector(t.parent);return o(c,{transition:"all 0 linear",transform:"translate3d("+d+"%,0,0)"}),t.showSpinner||(r=s.querySelector(t.spinnerSelector))&&h(r),a!=document.body&&l(a,"nprogress-custom-parent"),a.appendChild(s),s},e.remove=function(){d(document.documentElement,"nprogress-busy"),d(document.querySelector(t.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&h(e)},e.isRendered=function(){return!!document.getElementById("nprogress")},e.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"},c=function(){var e=[];function t(){var n=e.shift();n&&n(t)}return function(n){e.push(n),1==e.length&&t()}}(),o=function(){var e=["Webkit","O","Moz","ms"],t={};function s(n){return n=n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()}),t[n]||(t[n]=function(t){if(n=document.body.style,t in n)return t;for(var n,s,o=e.length,i=t.charAt(0).toUpperCase()+t.slice(1);o--;)if((s=e[o]+i)in n)return s;return t}(n))}function n(e,t,n){t=s(t),e.style[t]=n}return function(e,t){var s,i,o=arguments;if(2==o.length)for(s in t)void 0!==(i=t[s])&&t.hasOwnProperty(s)&&n(e,s,i);else n(e,o[1],o[2])}}();function u(e,t){return 0<=("string"==typeof e?e:r(e)).indexOf(" "+t+" ")}function l(e,t){var n=r(e),s=n+t;u(n,t)||(e.className=s.substring(1))}function d(e,t){var n,s=r(e);u(e,t)&&(n=s.replace(" "+t+" "," "),e.className=n.substring(1,n.length-1))}function r(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function h(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return e})</script><script>!function(){var a,u,f,O,B,q,K={frameRate:150,animationTime:400,stepSize:100,pulseAlgorithm:!0,pulseScale:4,pulseNormalize:1,accelerationDelta:50,accelerationMax:3,keyboardSupport:!0,arrowScroll:50,fixedBackground:!0,excluded:""},e=K,$=!1,h=!1,p={x:0,y:0},w=!1,i=document.documentElement,n=[],se=/^Mac/.test(navigator.platform),t={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36},ne={37:1,38:1,39:1,40:1};function _(){if(!w&&document.body){w=!0;var n,r,c,t=document.body,o=document.documentElement,s=window.innerHeight,l=t.scrollHeight;i=document.compatMode.indexOf("CSS")>=0?o:t,a=t,e.keyboardSupport&&d("keydown",P),top!=self?h=!0:J&&l>s&&(t.offsetHeight<=s||o.offsetHeight<=s)&&(n=document.createElement("div"),n.style.cssText="position:absolute; z-index:-10000; top:0; left:0; right:0; height:"+i.scrollHeight+"px",document.body.appendChild(n),u=function(){r||(r=setTimeout(function(){$||(n.style.height="0",n.style.height=i.scrollHeight+"px",r=null)},500))},setTimeout(u,10),d("resize",u),((O=new Q(u)).observe(t,{attributes:!0,childList:!0,characterData:!1}),i.offsetHeight<=s)&&(c=document.createElement("div"),c.style.clear="both",t.appendChild(c))),e.fixedBackground||$||(t.style.backgroundAttachment="scroll",o.style.backgroundAttachment="scroll")}}var r=[],b=!1,j=Date.now();function I(t,n,s){if((i=(i=n)>0?1:-1,a=(a=s)>0?1:-1,(p.x!==i||p.y!==a)&&(p.x=i,p.y=a,r=[],j=0),1!=e.accelerationMax)&&(c=Date.now()-j,c<e.accelerationDelta&&(o=(1+50/c)/2,o>1&&(o=Math.min(o,e.accelerationMax),n*=o,s*=o)),j=Date.now()),r.push({x:n,y:s,lastX:n<0?.99:-.99,lastY:s<0?.99:-.99,start:Date.now()}),!b){var o,i,a,c,l,d=G(),u=t===d||t===document.body;null==t.$scrollBehavior&&function(e){var n,t=C(e);return null==v[t]&&(n=getComputedStyle(e,"")["scroll-behavior"],v[t]="smooth"==n),v[t]}(t)&&(t.$scrollBehavior=t.style.scrollBehavior,t.style.scrollBehavior="auto"),l=function(){for(var m,f,v=Date.now(),c=0,d=0,a=0;a<r.length;a++){var i=r[a],g=v-i.start,p=g>=e.animationTime,h=p?1:g/e.animationTime;e.pulseAlgorithm&&(h=oe(h)),m=i.x*h-i.lastX>>0,f=i.y*h-i.lastY>>0,c+=m,d+=f,i.lastX+=m,i.lastY+=f,p&&(r.splice(a,1),a--)}u?window.scrollBy(c,d):(c&&(t.scrollLeft+=c),d&&(t.scrollTop+=d)),n||s||(r=[]),r.length?V(l,t,1e3/e.frameRate+1):(b=!1,null!=t.$scrollBehavior&&(t.style.scrollBehavior=t.$scrollBehavior,t.$scrollBehavior=null))},V(l,t,0),b=!0}}function H(t){if(w||_(),r=t.target,t.defaultPrevented||t.ctrlKey)return!0;if(s(a,"embed")||s(r,"embed")&&/\.pdf/i.test(r.src)||s(a,"object")||r.shadowRoot)return!0;var r,l,i=-t.wheelDeltaX||t.deltaX||0,o=-t.wheelDeltaY||t.deltaY||0;return se&&(t.wheelDeltaX&&c(t.wheelDeltaX,120)&&(i=t.wheelDeltaX/Math.abs(t.wheelDeltaX)*-120),t.wheelDeltaY&&c(t.wheelDeltaY,120)&&(o=t.wheelDeltaY/Math.abs(t.wheelDeltaY)*-120)),i||o||(o=-t.wheelDelta||0),1===t.deltaMode&&(i*=40,o*=40),l=T(r),l?!!function(e){if(!e)return;n.length||(n=[e,e,e]),e=Math.abs(e),n.push(e),n.shift(),clearTimeout(q),q=setTimeout(function(){try{localStorage.SS_deltaBuffer=n.join(",")}catch{}},1e3);var t=e>120&&y(e),s=!y(120)&&!y(100)&&!t;return e<50||s}(o)||(Math.abs(i)>1.2&&(i*=e.stepSize/120),Math.abs(o)>1.2&&(o*=e.stepSize/120),I(l,i,o),t.preventDefault(),void L()):!h||!A||(Object.defineProperty(t,"target",{value:window.frameElement}),parent.wheel(t))}function P(n){if(o=n.target,m=n.ctrlKey||n.altKey||n.metaKey||n.shiftKey&&n.keyCode!==t.spacebar,document.body.contains(a)||(a=document.activeElement),d=/^(button|submit|radio|checkbox|file|color|image)$/i,n.defaultPrevented||/^(textarea|select|embed|object)$/i.test(o.nodeName)||s(o,"input")&&!d.test(o.type)||s(a,"video")||function(e){var t=e.target,n=!1;if(-1!=document.URL.indexOf("www.youtube.com/watch"))do if(n=t.classList&&t.classList.contains("html5-video-controls"))break;while(t=t.parentNode)return n}(n)||o.isContentEditable||m)return!0;if((s(o,"button")||s(o,"input")&&d.test(o.type))&&n.keyCode===t.spacebar)return!0;if(s(o,"input")&&"radio"==o.type&&ne[n.keyCode])return!0;var o,c,l,d,m,u=0,r=0,i=T(a);if(!i)return!h||!A||parent.keydown(n);switch(c=i.clientHeight,i==document.body&&(c=window.innerHeight),n.keyCode){case t.up:r=-e.arrowScroll;break;case t.down:r=e.arrowScroll;break;case t.spacebar:r=-(n.shiftKey?1:-1)*c*.9;break;case t.pageup:r=.9*-c;break;case t.pagedown:r=.9*c;break;case t.home:i==document.body&&document.scrollingElement&&(i=document.scrollingElement),r=-i.scrollTop;break;case t.end:l=i.scrollHeight-i.scrollTop-c,r=l>0?l+10:0;break;case t.left:u=-e.arrowScroll;break;case t.right:u=e.arrowScroll;break;default:return!0}I(i,u,r),n.preventDefault(),L()}function S(e){a=e.target}var M,R,C=(R=0,function(e){return e.uniqueID||(e.uniqueID=R++)}),E={},k={},v={};function L(){clearTimeout(M),M=setInterval(function(){E=k=v={}},1e3)}function x(e,t,n){for(var o=n?E:k,s=e.length;s--;)o[C(e[s])]=t;return t}function te(e,t){return(t?E:k)[C(e)]}function T(e){var n,s,t=[],o=document.body,a=i.scrollHeight;do{if(n=te(e,!1),n)return x(t,n);if(t.push(e),a===e.scrollHeight){if(s=D(i)&&D(o)||N(i),h&&z(i)||!h&&s)return x(t,G())}else if(z(e)&&N(e))return x(t,e)}while(e=e.parentElement)}function z(e){return e.clientHeight+10<e.scrollHeight}function D(e){return"hidden"!==getComputedStyle(e,"").getPropertyValue("overflow-y")}function N(e){var t=getComputedStyle(e,"").getPropertyValue("overflow-y");return"scroll"===t||"auto"===t}function d(e,t,n){window.addEventListener(e,t,n||!1)}function m(e,t,n){window.removeEventListener(e,t,n||!1)}function s(e,t){return e&&(e.nodeName||"").toLowerCase()===t.toLowerCase()}if(window.localStorage&&localStorage.SS_deltaBuffer)try{n=localStorage.SS_deltaBuffer.split(",")}catch{}function c(e,t){return Math.floor(e/t)==e/t}function y(e){return c(n[0],e)&&c(n[1],e)&&c(n[2],e)}var g,V=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e,t,n){window.setTimeout(e,n||1e3/60)},Q=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,G=(g=document.scrollingElement,function(){if(!g){var t,e=document.createElement("div");e.style.cssText="height:10000px;width:1px;",document.body.appendChild(e),t=document.body.scrollTop,document.documentElement.scrollTop,window.scrollBy(0,3),g=document.body.scrollTop!=t?document.body:document.documentElement,window.scrollBy(0,-3),document.body.removeChild(e)}return g});function U(t){var n,s;return(t*=e.pulseScale)<1?n=t-(1-Math.exp(-t)):(t-=1,n=(s=Math.exp(-1))+(1-Math.exp(-t))*(1-s)),n*e.pulseNormalize}function oe(t){return t>=1?1:t<=0?0:(1==e.pulseNormalize&&(e.pulseNormalize/=U(1)),U(t))}var o=window.navigator.userAgent,Y=/Edge/.test(o),A=/chrome/i.test(o)&&!Y,W=/safari/i.test(o)&&!Y,X=/mobile/i.test(o),Z=/Windows NT 6.1/i.test(o)&&/rv:11/i.test(o),J=W&&(/Version\/8/i.test(o)||/Version\/9/i.test(o)),ee=(A||W||Z)&&!X,F=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){F=!0}}))}catch{}B=!!F&&{passive:!1},f="onwheel"in document.createElement("div")?"wheel":"mousewheel";function l(t){for(var n in t)K.hasOwnProperty(n)&&(e[n]=t[n])}f&&ee&&(d(f,H,B),d("mousedown",S),d("load",_)),l.destroy=function(){O&&O.disconnect(),m(f,H),m("mousedown",S),m("keydown",P),m("resize",u),m("load",_)},window.SmoothScrollOptions&&l(window.SmoothScrollOptions),"function"==typeof define&&define.amd?define(function(){return l}):"object"==typeof exports?module.exports=l:window.SmoothScroll=l}()</script><script>var ScrollReveal=function(){"use strict";w={delay:0,distance:"0",duration:600,easing:"cubic-bezier(0.5, 0, 0, 1)",interval:0,opacity:0,origin:"bottom",rotate:{x:0,y:0,z:0},scale:1,cleanup:!1,container:document.documentElement,desktop:!0,mobile:!0,reset:!1,useDelay:"always",viewFactor:0,viewOffset:{top:0,right:0,bottom:0,left:0},afterReset:function(){},afterReveal:function(){},beforeReset:function(){},beforeReveal:function(){}},o={success:function(){document.documentElement.classList.add("sr"),document.body?document.body.style.height="100%":document.addEventListener("DOMContentLoaded",function(){document.body.style.height="100%"})},failure:function(){return document.documentElement.classList.remove("sr"),{clean:function(){},destroy:function(){},reveal:function(){},sync:function(){},get noop(){return!0}}}};function _(e){return"object"==typeof window.Node?e instanceof window.Node:null!==e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}function r(e,t){if(void 0===t&&(t=document),e instanceof Array)return e.filter(_);if(_(e))return[e];if(n=e,s=Object.prototype.toString.call(n),"object"==typeof window.NodeList?n instanceof window.NodeList:null!==n&&"object"==typeof n&&"number"==typeof n.length&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(s)&&(0===n.length||_(n[0])))return Array.prototype.slice.call(e);if("string"==typeof e)try{var n,s,o=t.querySelectorAll(e);return Array.prototype.slice.call(o)}catch{return[]}return[]}function u(e){return null!==e&&e instanceof Object&&(e.constructor===Object||"[object Object]"===Object.prototype.toString.call(e))}function e(e,t){if(u(e))return Object.keys(e).forEach(function(n){return t(e[n],n,e)});if(e instanceof Array)return e.forEach(function(n,s){return t(n,s,e)});throw new TypeError("Expected either an array or object literal.")}function s(e){for(var n,s=[],t=arguments.length-1;0<t--;)s[t]=arguments[t+1];this.constructor.debug&&console&&(n="%cScrollReveal: "+e,s.forEach(function(e){return n+=`
 ‚Äî `+e}),console.log(n,"color: #ea654b;"))}function z(){var t=this,o={active:[],stale:[]},n={active:[],stale:[]},s={active:[],stale:[]};try{e(r("[data-sr-id]"),function(e){var t=parseInt(e.getAttribute("data-sr-id"));o.active.push(t)})}catch(e){throw e}e(this.store.elements,function(e){-1===o.active.indexOf(e.id)&&o.stale.push(e.id)}),e(o.stale,function(e){return delete t.store.elements[e]}),e(this.store.elements,function(e){-1===s.active.indexOf(e.containerId)&&s.active.push(e.containerId),e.hasOwnProperty("sequence")&&-1===n.active.indexOf(e.sequence.id)&&n.active.push(e.sequence.id)}),e(this.store.containers,function(e){-1===s.active.indexOf(e.id)&&s.stale.push(e.id)}),e(s.stale,function(e){var n=t.store.containers[e].node;n.removeEventListener("scroll",t.delegate),n.removeEventListener("resize",t.delegate),delete t.store.containers[e]}),e(this.store.sequences,function(e){-1===n.active.indexOf(e.id)&&n.stale.push(e.id)}),e(n.stale,function(e){return delete t.store.sequences[e]})}function v(e){if(e.constructor!==Array)throw new TypeError("Expected array.");if(16===e.length)return e;if(6!==e.length)throw new RangeError("Expected array with either 6 or 16 values.");var n=t();return n[0]=e[0],n[1]=e[1],n[4]=e[2],n[5]=e[3],n[12]=e[4],n[13]=e[5],n}function t(){for(var e=[],t=0;t<16;t++)t%5==0?e.push(1):e.push(0);return e}function I(e,t){for(var o,a,r=v(e),i=v(t),l=[],n=0;n<4;n++)for(o=[r[n],r[n+4],r[n+8],r[n+12]],a=0;a<4;a++){var s=4*a,c=[i[s],i[s+1],i[s+2],i[s+3]],d=o[0]*c[0]+o[1]*c[1]+o[2]*c[2]+o[3]*c[3];l[n+s]=d}return l}function E(e,n){var s=t();return s[0]=e,s[5]="number"==typeof n?n:e,s}f=function(){var e={},n=document.documentElement.style;function t(t,s){if(void 0===s&&(s=n),t&&"string"==typeof t){if(e[t])return e[t];if("string"==typeof s[t])return e[t]=t;if("string"==typeof s["-webkit-"+t])return e[t]="-webkit-"+t;throw new RangeError('Unable to find "'+t+'" style property.')}throw new TypeError("Expected a string.")}return t.clearCache=function(){return e={}},t}();function H(e){var s,o,i,u,j,_,k,T,r=window.getComputedStyle(e.node),R=r.position,n=e.config,m={},g=(e.node.getAttribute("style")||"").match(/[\w-]+\s*:\s*[^;]+\s*/gi)||[];m.computed=g?g.map(function(e){return e.trim()}).join("; ")+";":"",m.generated=g.some(function(e){return e.match(/visibility\s?:\s?visible/i)})?m.computed:g.concat(["visibility: visible"]).map(function(e){return e.trim()}).join("; ")+";";var c,l,d,b,y,C,A,S,M,F,z,N,L,w=parseFloat(r.opacity),O=parseFloat(isNaN(parseFloat(n.opacity))?r.opacity:n.opacity),x={computed:w!==O?"opacity: "+w+";":"",generated:w!==O?"opacity: "+O+";":""},a=[];if(parseFloat(n.distance)){switch(j="top"===n.origin||"bottom"===n.origin?"Y":"X",i=n.distance,"top"!==n.origin&&"left"!==n.origin||(i=/^-/.test(i)?i.substr(1):"-"+i),_=i.match(/(^-?\d+\.?\d?)|(em$|px$|%$)/g),u=_[0],_[1]){case"em":i=parseInt(r.fontSize)*u;break;case"px":i=u;break;case"%":i="Y"===j?e.node.getBoundingClientRect().height*u/100:e.node.getBoundingClientRect().width*u/100;break;default:throw new RangeError("Unrecognized or missing distance unit.")}"Y"===j?a.push((L=i,(F=t())[13]=L,F)):a.push((N=i,(z=t())[12]=N,z))}if(n.rotate.x&&a.push((M=n.rotate.x,b=Math.PI/180*M,(d=t())[5]=d[10]=Math.cos(b),d[6]=d[9]=Math.sin(b),d[9]*=-1,d)),n.rotate.y&&a.push((S=n.rotate.y,y=Math.PI/180*S,(c=t())[0]=c[10]=Math.cos(y),c[2]=c[8]=Math.sin(y),c[2]*=-1,c)),n.rotate.z&&a.push((A=n.rotate.z,C=Math.PI/180*A,(l=t())[0]=l[5]=Math.cos(C),l[1]=l[4]=Math.sin(C),l[4]*=-1,l)),1!==n.scale&&(0===n.scale?a.push(E(2e-4)):a.push(E(n.scale))),o={},a.length?(o.property=f("transform"),o.computed={raw:r[o.property],matrix:function(e){if("string"==typeof e){var n=e.match(/matrix(3d)?\(([^)]+)\)/);if(n)return v(n[2].split(", ").map(parseFloat))}return t()}(r[o.property])},a.unshift(o.computed.matrix),T=a.reduce(I),o.generated={initial:o.property+": matrix3d("+T.join(", ")+");",final:o.property+": matrix3d("+o.computed.matrix.join(", ")+");"}):o.generated={initial:"",final:""},s={},x.generated||o.generated.initial){s.property=f("transition"),s.computed=r[s.property],s.fragments=[];var D=n.delay,h=n.duration,p=n.easing;x.generated&&s.fragments.push({delayed:"opacity "+h/1e3+"s "+p+" "+D/1e3+"s",instant:"opacity "+h/1e3+"s "+p+" 0s"}),o.generated.initial&&s.fragments.push({delayed:o.property+" "+h/1e3+"s "+p+" "+D/1e3+"s",instant:o.property+" "+h/1e3+"s "+p+" 0s"}),s.computed&&!s.computed.match(/all 0s|none 0s/)&&s.fragments.unshift({delayed:s.computed,instant:s.computed}),k=s.fragments.reduce(function(e,t,n){return e.delayed+=0===n?t.delayed:", "+t.delayed,e.instant+=0===n?t.instant:", "+t.instant,e},{delayed:"",instant:""}),s.generated={delayed:s.property+": "+k.delayed+";",instant:s.property+": "+k.instant+";"}}else s.generated={delayed:"",instant:""};return{inline:m,opacity:x,position:R,transform:o,transition:s}}function a(e,t){t.split(";").forEach(function(t){var n=t.split(":"),s=n[0],o=n.slice(1);s&&o&&(e.style[s.trim()]=o.join(":"))})}function p(t){var n,o=this;try{e(r(t),function(e){var t,s=e.getAttribute("data-sr-id");null!==s&&(n=!0,t=o.store.elements[s],t.callbackTimer&&window.clearTimeout(t.callbackTimer.clock),a(t.node,t.styles.inline.generated),e.removeAttribute("data-sr-id"),delete o.store.elements[s])})}catch(e){return s.call(this,"Clean failed.",e.message)}if(n)try{z.call(this)}catch(e){return s.call(this,"Clean failed.",e.message)}}function m(t){for(var s=[],n=arguments.length-1;0<n--;)s[n]=arguments[n+1];if(u(t))return e(s,function(n){e(n,function(e,n){u(e)?(t[n]&&u(t[n])||(t[n]={}),m(t[n],e)):t[n]=e})}),t;throw new TypeError("Target must be an object literal.")}function d(e){return void 0===e&&(e=navigator.userAgent),/Android|iPhone|iPad|iPod/i.test(e)}l=(L=0,function(){return L++});function N(){var t=this;z.call(this),e(this.store.elements,function(e){var t=[e.styles.inline.generated];e.visible?(t.push(e.styles.opacity.computed),t.push(e.styles.transform.generated.final),e.revealed=!0):(t.push(e.styles.opacity.generated),t.push(e.styles.transform.generated.initial),e.revealed=!1),a(e.node,t.filter(function(e){return""!==e}).join(" "))}),e(this.store.containers,function(e){var n=e.node===document.documentElement?window:e.node;n.addEventListener("scroll",t.delegate),n.addEventListener("resize",t.delegate)}),this.delegate(),this.initTimeout=null}function c(e,t){void 0===t&&(t={});var n=t.pristine||this.pristine,s="always"===e.config.useDelay||"onload"===e.config.useDelay&&n||"once"===e.config.useDelay&&!e.seen,o=e.visible&&!e.revealed,i=!e.visible&&e.revealed&&e.config.reset;return t.reveal||o?function(e,t){var n=[e.styles.inline.generated,e.styles.opacity.computed,e.styles.transform.generated.final];t?n.push(e.styles.transition.generated.delayed):n.push(e.styles.transition.generated.instant),e.revealed=e.seen=!0,a(e.node,n.filter(function(e){return""!==e}).join(" ")),P.call(this,e,t)}.call(this,e,s):t.reset||i?function(e){var t=[e.styles.inline.generated,e.styles.opacity.generated,e.styles.transform.generated.initial,e.styles.transition.generated.instant];e.revealed=!1,a(e.node,t.filter(function(e){return""!==e}).join(" ")),P.call(this,e)}.call(this,e):void 0}function P(e,t){var s=this,o=t?e.config.duration+e.config.delay:e.config.duration,i=e.revealed?e.config.beforeReveal:e.config.beforeReset,a=e.revealed?e.config.afterReveal:e.config.afterReset,n=0;e.callbackTimer&&(n=Date.now()-e.callbackTimer.start,window.clearTimeout(e.callbackTimer.clock)),i(e.node),e.callbackTimer={start:Date.now(),clock:window.setTimeout(function(){a(e.node),e.callbackTimer=null,e.revealed&&!e.config.reset&&e.config.cleanup&&p.call(s,e.node)},o-n)}}function D(e,t){if(void 0===t&&(t=this.pristine),!e.visible&&e.revealed&&e.config.reset)return c.call(this,e,{reset:!0});var s,i,a,r,n=this.store.sequences[e.sequence.id],o=e.sequence.index;if(n){if(s=new R(n,"visible",this.store),i=new R(n,"revealed",this.store),(n.models={visible:s,revealed:i},!i.body.length)&&(r=n.members[s.body[0]],a=this.store.elements[r],a))return h.call(this,n,s.body[0],-1,t),h.call(this,n,s.body[0],1,t),c.call(this,a,{reveal:!0,pristine:t});if(!n.blocked.head&&o===[].concat(i.head).pop()&&o>=[].concat(s.body).shift())return h.call(this,n,o,-1,t),c.call(this,e,{reveal:!0,pristine:t});if(!n.blocked.foot&&o===[].concat(i.foot).shift()&&o<=[].concat(s.body).pop())return h.call(this,n,o,1,t),c.call(this,e,{reveal:!0,pristine:t})}}function $(e){var t=Math.abs(e);if(isNaN(t))throw new RangeError("Invalid sequence interval.");this.id=l(),this.interval=Math.max(t,16),this.members=[],this.models={},this.blocked={head:!1,foot:!1}}function R(t,n,s){var o=this;this.head=[],this.body=[],this.foot=[],e(t.members,function(e,t){var i=s.elements[e];i&&i[n]&&o.body.push(t)}),this.body.length&&e(t.members,function(e,t){var i=s.elements[e];i&&!i[n]&&(t<o.body[0]?o.head.push(t):o.foot.push(t))})}function h(e,t,n,s){var a=this,o=["head",null,"foot"][1+n],r=e.members[t+n],i=this.store.elements[r];e.blocked[o]=!0,setTimeout(function(){e.blocked[o]=!1,i&&D.call(a,i,s)},e.interval)}function k(t,n,o){c=this,void 0===n&&(n={}),void 0===o&&(o=!1);var i,c,h,u=[],f=n.interval||w.interval;try{if(f&&(i=new $(f)),h=r(t),!h.length)throw new Error("Invalid reveal target.");e(h.reduce(function(t,s){var h,f,g,o={},v=s.getAttribute("data-sr-id");if(v?(m(o,c.store.elements[v]),a(o.node,o.styles.inline.computed)):(o.id=l(),o.node=s,o.seen=!1,o.revealed=!1,o.visible=!1),h=m({},o.config||c.defaults,n),!h.mobile&&d()||!h.desktop&&!d())return v&&p.call(c,o),t;if(f=r(h.container)[0],!f)throw new Error("Invalid container.");return f.contains(s)&&(null===(g=function(t){for(var n,o=[],s=arguments.length-1;0<s--;)o[s]=arguments[s+1];return n=null,e(o,function(s){e(s,function(e){null===n&&e.node===t&&(n=e.id)})}),n}(f,u,c.store.containers))&&(g=l(),u.push({id:g,node:f})),o.config=h,o.containerId=g,o.styles=H(o),i&&(o.sequence={id:i.id,index:i.members.length},i.members.push(o.id)),t.push(o)),t},[]),function(e){(c.store.elements[e.id]=e).node.setAttribute("data-sr-id",e.id)})}catch(e){return s.call(this,"Reveal failed.",e.message)}e(u,function(e){c.store.containers[e.id]={id:e.id,node:e.node}}),i&&(this.store.sequences[i.id]=i),!0!==o&&(this.store.history.push({target:t,options:n}),this.initTimeout&&window.clearTimeout(this.initTimeout),this.initTimeout=window.setTimeout(N.bind(this),0))}var o,i,l,f,g,b,j,y,w,O,x,C,A,F,L,S=Math.sign||function(e){return(0<e)-(e<0)||+e},M=(x=Date.now(),function(e){var t=Date.now();16<t-x?e(x=t):setTimeout(function(){return M(e)},0)}),V=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||M;function T(e,t){for(var i=t?e.node.clientHeight:e.node.offsetHeight,a=t?e.node.clientWidth:e.node.offsetWidth,s=0,o=0,n=e.node;isNaN(n.offsetTop)||(s+=n.offsetTop),isNaN(n.offsetLeft)||(o+=n.offsetLeft),n=n.offsetParent;);return{bounds:{top:s,right:o+a,bottom:s+i,left:o},height:i,width:a}}function B(t,n){var s=this;void 0===t&&(t={type:"init"}),void 0===n&&(n=this.store.elements),V(function(){var o="init"===t.type||"resize"===t.type;e(s.store.containers,function(e){o&&(e.geometry=T.call(s,e,!0));var t=function(e){var t,n;return n=e.node===document.documentElement?(t=window.pageYOffset,window.pageXOffset):(t=e.node.scrollTop,e.node.scrollLeft),{top:t,left:n}}.call(s,e);e.scroll&&(e.direction={x:S(t.left-e.scroll.left),y:S(t.top-e.scroll.top)}),e.scroll=t}),e(n,function(e){(o||void 0===e.geometry)&&(e.geometry=T.call(s,e)),e.visible=function(e){if(void 0===e&&(e={}),t=this.store.containers[e.containerId],t){var t,n=Math.max(0,Math.min(1,e.config.viewFactor)),s=e.config.viewOffset,o=e.geometry.bounds.top+e.geometry.height*n,i=e.geometry.bounds.right-e.geometry.width*n,a=e.geometry.bounds.bottom-e.geometry.height*n,r=e.geometry.bounds.left+e.geometry.width*n,c=t.geometry.bounds.top+t.scroll.top+s.top,l=t.geometry.bounds.right+t.scroll.left-s.right,d=t.geometry.bounds.bottom+t.scroll.top-s.bottom,u=t.geometry.bounds.left+t.scroll.left+s.left;return o<d&&u<i&&c<a&&r<l||"fixed"===e.styles.position}}.call(s,e)}),e(n,function(e){e.sequence?D.call(s,e):c.call(s,e)}),s.pristine=!1})}A="4.0.9";function n(t){var c;if(void 0===t&&(t={}),void 0===this||Object.getPrototypeOf(this)!==n.prototype)return new n(t);if(!n.isSupported())return s.call(this,"Instantiation failed.","This browser is not supported."),o.failure();try{c=m({},i||w,t)}catch(e){return s.call(this,"Invalid configuration.",e.message),o.failure()}try{if(!r(c.container)[0])throw new Error("Invalid container.")}catch(e){return s.call(this,e.message),o.failure()}return!(i=c).mobile&&d()||!i.desktop&&!d()?(s.call(this,"This device is disabled.","desktop: "+i.desktop,"mobile: "+i.mobile),o.failure()):(o.success(),this.store={containers:{},elements:{},history:[],sequences:{}},this.pristine=!0,O=O||B.bind(this),y=y||function(){var t=this;e(this.store.elements,function(e){a(e.node,e.styles.inline.generated),e.node.removeAttribute("data-sr-id")}),e(this.store.containers,function(e){var n=e.node===document.documentElement?window:e.node;n.removeEventListener("scroll",t.delegate),n.removeEventListener("resize",t.delegate)}),this.store={containers:{},elements:{},history:[],sequences:{}}}.bind(this),b=b||k.bind(this),g=g||p.bind(this),C=C||function(){var t=this;e(this.store.history,function(e){k.call(t,e.target,e.options,!0)}),N.call(this)}.bind(this),Object.defineProperty(this,"delegate",{get:function(){return O}}),Object.defineProperty(this,"destroy",{get:function(){return y}}),Object.defineProperty(this,"reveal",{get:function(){return b}}),Object.defineProperty(this,"clean",{get:function(){return g}}),Object.defineProperty(this,"sync",{get:function(){return C}}),Object.defineProperty(this,"defaults",{get:function(){return i}}),Object.defineProperty(this,"version",{get:function(){return A}}),Object.defineProperty(this,"noop",{get:function(){return!1}}),F||(F=this))}return n.isSupported=function(){return("transform"in(t=document.documentElement.style)||"WebkitTransform"in t)&&("transition"in(e=document.documentElement.style)||"WebkitTransition"in e);var e,t},Object.defineProperty(n,"debug",{get:function(){return j||!1},set:function(e){return j="boolean"==typeof e?e:j}}),n(),n}()</script><meta property="og:title" content="üêç PyTricks.py"><meta property="og:description" content="List of Python tricks from Dan Bader's (realpython.com) newsletter"><meta property="og:type" content="article"><meta property="og:url" content="https://shenlong616.github.io/posts/github/wcarhart/pytricks-py/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-01-16T00:00:00+00:00"><meta property="article:modified_time" content="2020-01-16T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="üêç PyTricks.py"><meta name=twitter:description content="List of Python tricks from Dan Bader's (realpython.com) newsletter"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://shenlong616.github.io/posts/"},{"@type":"ListItem","position":2,"name":"GitHub","item":"https://shenlong616.github.io/posts/github/"},{"@type":"ListItem","position":3,"name":"üêç PyTricks.py","item":"https://shenlong616.github.io/posts/github/wcarhart/pytricks-py/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"üêç PyTricks.py","name":"üêç PyTricks.py","description":"List of Python tricks from Dan Bader's (realpython.com) newsletter","keywords":["python","python tips","python tricks"],"articleBody":"# ===================================== # # How to merge two dictionaries (3.5+) x = {'a': 1, 'b': 2} y = {'b': 3, 'c': 4} z = {**x, **y} print(z) # {'c': 4, 'a': 1, 'b': 3} # ===================================== # # How to test flags x, y, z = 0, 1, 0 if x == 1 or y == 1 or z == 1: print('passed') if 1 in (x, y, z): print('passed') # truthiness only: if x or y or z: print('passed') if any((x, y, z)): print('passed') # ===================================== # # How to sort a dictionary by value d = {'a': 4, 'b': 3, 'c': 2, 'd': 1} sorted(d.items(), key=lambda x: x[1]) # [('d', 1), ('c', 2), ('b', 3), ('a', 4)] # ===================================== # # Use get() to use default values with dictionaries name_for_userid = { 382: 'Alice', 590: 'Bob', 951: 'Dilbert' } def greeting(userid): print f\"Hi {name_for_userid.get(userid, 'there')}!\" greeting(382) # \"Hi Alice!\" greeting(333333) # \"Hi there!\" # ===================================== # # How to use namedtuples from collections import namedtuple Car = namedtuple('Car', 'color mileage') my_car = Car('red', 3812.4) my_car.color # \"red\" my_car.mileage # 3812.4 my_car # Car(color='red' , mileage=3812.4) # like tuples, namedtuples are immutable my_car.color = 'blue' # AttributeError: \"can't set attribute\" # ===================================== # # Get the pythonic style guide, the Zen of Python (PEP 20) import this \"\"\" The Zen of Python, by Tim Peters Beautiful is better than ugly. Explicit is better than implicit. Simple is better than complex. Complex is better than complicated. Flat is better than nested. Sparse is better than dense. Readability counts. Special cases aren't special enough to break the rules. Although practicality beats purity. Errors should never pass silently. Unless explicitly silenced. In the face of ambiguity, refuse the temptation to guess. There should be one-- and preferably only one --obvious way to do it. Although that way may not be obvious at first unless you're Dutch. Now is better than never. Although never is often better than *right* now. If the implementation is hard to explain, it's a bad idea. If the implementation is easy to explain, it may be a good idea. Namespaces are one honking great idea -- let's do more of those! \"\"\" # ===================================== # # How to pretty print dictionaries import json json.dumps(my_mapping, indent=4, sort_keys=True) \"\"\" { \"a\": 23, \"b\": 42, \"c\": 12648430 } \"\"\" # ===================================== # # Function argument unpacking def myfunc(x, y, z): print(x, y, z) tuple_vec = (1, 0, 1) dict_vec = {'x': 1, 'y': 0, 'z': 1} myfunc(*tuple_vec) # 1, 0, 1 myfunc(**dict_vec) # 1, 0, 1 # ===================================== # # How to time execution of code snippets import timeit timeit.timeit('\"-\".join(str(n) for n in range(100))', number=10000) # 0.3412662749997253 timeit.timeit('\"-\".join([str(n) for n in range(100)])', number=10000) # 0.2996307989997149 timeit.timeit('\"-\".join(map(str, range(100)))', number=10000) # 0.24581470699922647 # ===================================== # # Shorthand for swapping variables (without a temp) a = 23 b = 42 # classic way: tmp = a a = b b = tmp # pythonic way: a, b = b, a # ===================================== # # \"is\" vs \"==\" # \"is\" expressions evaluate to True if two variables point to the same object # \"==\" evaluates to True if the objects referred to by the variables are equal a = [1, 2, 3] b = a c = list(a) a == b # True a is b # True a == c # True a is c # False # ===================================== # # Functions are first-class citizens # They can be passed as arguments to other functions, # returned as values from other functions, and # assigned to variables and stored in data structures. def myfunc(a, b): return a + b funcs = [myfunc] funcs[0] # funcs[0](2, 3) # 5 # ===================================== # # Use functions to emulate a switch block def dispatch_if(operator, x, y): if operator == 'add': return x + y elif operator == 'sub': return x - y elif operator == 'mul': return x * y elif operator == 'div': return x / y else: return None def dispatch_dict(operator, x, y): return { 'add': lambda: x + y, 'sub': lambda: x - y, 'mul': lambda: x * y, 'div': lambda: x / y, }.get(operator, lambda: None)() dispatch_if('mul', 2, 8) # 16 dispatch_dict('mul', 2, 8) # 16 dispatch_if('unknown', 2, 8) # None dispatch_dict('unknown', 2, 8) # None # ===================================== # # Run a simple HTTP server (3.x) # (This will serve the current directory at http://localhost:8000) $ python3 -m http.server # ===================================== # # List comprehensions are awesome vals = [expression for value in collection if condition] # is equivalent to: vals = [] for value in collection: if condition: vals.append(expression) # Example: even_squares = [x * x for x in range(10) if not x % 2] even_squares # [0, 4, 16, 36, 64] # ===================================== # # Use type annotations for hints (3.5+) def my_add(a: int, b: int) -\u003e int: return a + b # ===================================== # # Using list slice syntax makes list manipulation easy # You can clear all elements from a list: lst = [1, 2, 3, 4, 5] del lst[:] print(lst) # [] # You can replace all elements of a list without creating a new list object: a = lst lst[:] = [7, 8, 9] print(lst) # [7, 8, 9] print(a) # [7, 8, 9] print(a is lst) # True # You can also create a (shallow) copy of a list: b = lst[:] print(b) # [7, 8, 9] print(b is lst) # False # ===================================== # # Fun little Python easter egg (2.7+) import antigravity # ===================================== # # Find most common elements in an iterable (list, dict, etc.) import collections c = collections.Counter('helloworld') print(c) # Counter({'l': 3, 'o': 2, 'e': 1, 'd': 1, 'h': 1, 'r': 1, 'w': 1}) print(c.most_common(3)) # [('l', 3), ('o', 2), ('e', 1)] # ===================================== # # Get all permutations from an iterable (list, dict, etc.) import itertools for p in itertools.permutations('ABCD'): print(p) \"\"\" ('A', 'B', 'C', 'D') ('A', 'B', 'D', 'C') ('A', 'C', 'B', 'D') ('A', 'C', 'D', 'B') ('A', 'D', 'B', 'C') ('A', 'D', 'C', 'B') ('B', 'A', 'C', 'D') ('B', 'A', 'D', 'C') ('B', 'C', 'A', 'D') ('B', 'C', 'D', 'A') ('B', 'D', 'A', 'C') ('B', 'D', 'C', 'A') ('C', 'A', 'B', 'D') ('C', 'A', 'D', 'B') ('C', 'B', 'A', 'D') ('C', 'B', 'D', 'A') ('C', 'D', 'A', 'B') ('C', 'D', 'B', 'A') ('D', 'A', 'B', 'C') ('D', 'A', 'C', 'B') ('D', 'B', 'A', 'C') ('D', 'B', 'C', 'A') ('D', 'C', 'A', 'B') ('D', 'C', 'B', 'A') \"\"\" # ===================================== # # __repr__ vs. __str__ # Emulate what the std lib does: import datetime today = datetime.date.today() # Result of __str__ should be readable: str(today) # '2017-02-02' # Result of __repr__ should be unambiguous: repr(today) # 'datetime.date(2017, 2, 2)' # Python interpreter sessions use __repr__ to inspect objects: \u003e\u003e\u003e today # datetime.date(2017, 2, 2) # ===================================== # # Disassemble functions into their Python VM bytcode def greet(name): return 'Hello, ' + name + '!' greet('Dan') # 'Hello, Dan!' import dis dis.dis(greet) \"\"\" 2 0 LOAD_CONST 1 ('Hello, ') 2 LOAD_FAST 0 (name) 4 BINARY_ADD 6 LOAD_CONST 2 ('!') 8 BINARY_ADD 10 RETURN_VALUE \"\"\" # ===================================== # # @classmethod vs @staticmethod vs \"plain\" methods class MyClass: def method(self): \"\"\" Instance methods need a class instance and can access the instance through `self`. \"\"\" return 'instance method called', self @classmethod def classmethod(cls): \"\"\" Class methods don't need a class instance. They can't access the instance (self) but they have access to the class itself via `cls`. \"\"\" return 'class method called', cls @staticmethod def staticmethod(): \"\"\" Static methods don't have access to `cls` or `self`. They work like regular functions but belong to the class's namespace. \"\"\" return 'static method called' # All methods types can be called on a class instance: obj = MyClass() print(obj.method()) # ('instance method called', ) print(obj.classmethod()) # ('class method called', ) print(obj.staticmethod()) # 'static method called' # Calling instance methods fails if we only have the class object: print(MyClass.classmethod()) # ('class method called', ) print(MyClass.staticmethod()) # 'static method called' # print(MyClass.method()) \"\"\" TypeError: \"unbound method method() must be called with MyClass \" \"instance as first argument (got nothing instead)\" \"\"\" # ===================================== # # How to use lambda functions add = lambda x, y: x + y add(5, 3) # 8 # You could declare the same add() function with the def keyword: def add(x, y): return x + y add(5, 3) # 8 # So what's the big fuss about? Lambdas are *function expressions*: (lambda x, y: x + y)(5, 3) # 8 # Lambda functions are single-expression # functions that are not necessarily bound # to a name (they can be anonymous). # Lambda functions can't use regular # Python statements and always include an # implicit `return` statement. # ===================================== # # Use IP addresses import ipaddress ipaddress.ip_address('192.168.1.2') # IPv4Address('192.168.1.2') ipaddress.ip_address('2001:af3::') # IPv6Address('2001:af3::') # ===================================== # # Get the name of object, class, or function at runtime class MyClass: pass def myfunc(): pass obj = MyClass() obj.__class__.__name__ # 'MyClass' myfunc.__name__ # 'myfunc' # ===================================== # # Check for class inheritance relationships class BaseClass: pass class SubClass(BaseClass): pass issubclass(SubClass, BaseClass) # True issubclass(SubClass, object) # True issubclass(BaseClass, SubClass) # False # ===================================== # # Use unicode characters in variable names œÄ = math.pi class SpinÃàalTap: pass SpinÃàalTap() # # Only letter-like characters work, however: üç∫ = \"beer\" \"\"\" SyntaxError: \"invalid character in identifier\" \"\"\" # ===================================== # # Get global and local variables # \"globals()\" returns a dict with all global variables in the current scope: globals() # {...} # \"locals()\" does the same but for all local variables in the current scope: locals() # {...} # ===================================== # # Get traceback even when python fails (e.g. from a segmentation fault) import faulthandler faulthandler.enable() # Can also be enabled with \"python -X faulthandler\" from the command line # ===================================== # # ===================================== # # # Virtual Environments (\"virtualenvs\") keep # your project dependencies separated. # They help you avoid version conflicts # between packages and different versions # of the Python runtime. # Before creating \u0026 activating a virtualenv: # `python` and `pip` map to the system # version of the Python interpreter # (e.g. Python 2.7) $ which python /usr/local/bin/python # Let's create a fresh virtualenv using # another version of Python (Python 3): $ python3 -m venv ./venv # A virtualenv is just a \"Python # environment in a folder\": $ ls ./venv bin include lib pyvenv.cfg # Activating a virtualenv configures the # current shell session to use the python # (and pip) commands from the virtualenv # folder instead of the global environment: $ source ./venv/bin/activate # Note how activating a virtualenv modifies # your shell prompt with a little note # showing the name of the virtualenv folder: (venv) $ echo \"wee!\" # With an active virtualenv, the `python` # command maps to the interpreter binary # *inside the active virtualenv*: (venv) $ which python /Users/dan/my-project/venv/bin/python3 # Installing new libraries and frameworks # with `pip` now installs them *into the # virtualenv sandbox*, leaving your global # environment (and any other virtualenvs) # completely unmodified: (venv) $ pip install requests # To get back to the global Python # environment, run the following command: (venv) $ deactivate # (See how the prompt changed back # to \"normal\" again?) $ echo \"yay!\" # Deactivating the virtualenv flipped the # `python` and `pip` commands back to # the global environment: $ which python /usr/local/bin/python # ===================================== # # You can `else` statements with `for` and `while` blocks def contains(haystack, needle): for item in haystack: if needle == haystack: break else: # The `else` here is a \"completion clause\" that runs only if the loop ran to completion # without hitting a `break` statement. raise ValueError('needle not found') # ===================================== # # Pythonic ways of checking if all items in a list are equal; # Ordered from \"most Pythonic\" to \"least Pythonic\" and \"least # efficient\" to \"most efficient\". The len(set()) solution is # idiomatic, but constructing a set is less efficient memory # and speed-wise. lst = ['a', 'a', 'a'] len(set(lst)) == 1 # True all(x == lst[0] for x in lst) # True lst.count(lst[0]) == len(lst) # True # ===================================== # # In Python 3.4+ you can use # contextlib.suppress() to selectively # ignore specific exceptions: import contextlib with contextlib.suppress(FileNotFoundError): os.remove('somefile.tmp') # This is equivalent to: try: os.remove('somefile.tmp') except FileNotFoundError: pass # contextlib.suppress docstring: # # \"Return a context manager that suppresses any # of the specified exceptions if they occur in the body # of a with statement and then resumes execution with # the first statement following the end of # the with statement.\" # ===================================== # # In Python 3 you can use a bare \"*\" asterisk # in function parameter lists to force the # caller to use keyword arguments for certain # parameters: def f(a, b, *, c='x', d='y', e='z'): return 'Hello' # To pass the value for c, d, and e you # will need to explicitly pass it as # \"key=value\" named arguments: f(1, 2, 'p', 'q', 'v') # TypeError: # \"f() takes 2 positional arguments but 5 were given\" f(1, 2, c='p', d='q',e='v') # 'Hello' # ===================================== # # Python 3.5+ allows passing multiple sets # of keyword arguments (\"kwargs\") to a # function within a single call, using # the \"**\" syntax: def process_data(a, b, c, d): print(a, b, c, d) x = {'a': 1, 'b': 2} y = {'c': 3, 'd': 4} process_data(**x, **y) # 1 2 3 4 process_data(**x, c=23, d=42) # 1 2 23 42 # ===================================== # ","wordCount":"2277","inLanguage":"en","datePublished":"2020-01-16T00:00:00Z","dateModified":"2020-01-16T00:00:00Z","author":{"@type":"Person","name":"wcarhart, dbader"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://shenlong616.github.io/posts/github/wcarhart/pytricks-py/"},"publisher":{"@type":"Person","name":"Shenlong616","logo":{"@type":"ImageObject","url":"https://shenlong616.github.io/favicon/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://shenlong616.github.io/ accesskey=h title="Shenlong616 (Alt + H)">Shenlong616</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://shenlong616.github.io/archives/ title=archives><span>archives</span></a></li><li><a href=https://shenlong616.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://shenlong616.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://shenlong616.github.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://shenlong616.github.io/>Home</a>&nbsp;¬ª&nbsp;<a href=https://shenlong616.github.io/posts/>Posts</a>&nbsp;¬ª&nbsp;<a href=https://shenlong616.github.io/posts/github/>GitHub</a></div><h1 class=post-title>üêç PyTricks.py</h1><div class=post-description>List of Python tricks from Dan Bader's (realpython.com) newsletter</div><div class=post-meta><span title='2020-01-16 00:00:00 +0000 UTC'>January 16, 2020</span>&nbsp;¬∑&nbsp;2277 words&nbsp;¬∑&nbsp;wcarhart, dbader&nbsp;|&nbsp;<a href=https://github.com/Shenlong616/Shenlong616.github.io/tree/main/_dev/content/posts/github/wcarhart/PyTricks-py.md rel="noopener noreferrer" target=_blank>Suggest Changes</a>
&nbsp;|&nbsp;<span>Originally published at&nbsp;<a href=https://gist.github.com/wcarhart/8d897d723ba6cd2af75115c38427e233 title=https://gist.github.com/wcarhart/8d897d723ba6cd2af75115c38427e233 target=_blank rel="noopener noreferrer">gist.github.com</a></span></div></header><div class=post-content><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># How to merge two dictionaries (3.5+)</span>
</span></span><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=mi>2</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>y</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s1>&#39;c&#39;</span><span class=p>:</span> <span class=mi>4</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>z</span> <span class=o>=</span> <span class=p>{</span><span class=o>**</span><span class=n>x</span><span class=p>,</span> <span class=o>**</span><span class=n>y</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>z</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># {&#39;c&#39;: 4, &#39;a&#39;: 1, &#39;b&#39;: 3}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># How to test flags</span>
</span></span><span class=line><span class=cl><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>z</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>x</span> <span class=o>==</span> <span class=mi>1</span> <span class=ow>or</span> <span class=n>y</span> <span class=o>==</span> <span class=mi>1</span> <span class=ow>or</span> <span class=n>z</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>  <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;passed&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=mi>1</span> <span class=ow>in</span> <span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>z</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;passed&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># truthiness only:</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>x</span> <span class=ow>or</span> <span class=n>y</span> <span class=ow>or</span> <span class=n>z</span><span class=p>:</span>
</span></span><span class=line><span class=cl>  <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;passed&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=nb>any</span><span class=p>((</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>z</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>  <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;passed&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># How to sort a dictionary by value</span>
</span></span><span class=line><span class=cl><span class=n>d</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s1>&#39;c&#39;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s1>&#39;d&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nb>sorted</span><span class=p>(</span><span class=n>d</span><span class=o>.</span><span class=n>items</span><span class=p>(),</span> <span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=c1># [(&#39;d&#39;, 1), (&#39;c&#39;, 2), (&#39;b&#39;, 3), (&#39;a&#39;, 4)]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Use get() to use default values with dictionaries</span>
</span></span><span class=line><span class=cl><span class=n>name_for_userid</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=mi>382</span><span class=p>:</span> <span class=s1>&#39;Alice&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=mi>590</span><span class=p>:</span> <span class=s1>&#39;Bob&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=mi>951</span><span class=p>:</span> <span class=s1>&#39;Dilbert&#39;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>greeting</span><span class=p>(</span><span class=n>userid</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=nb>print</span> <span class=sa>f</span><span class=s2>&#34;Hi </span><span class=si>{</span><span class=n>name_for_userid</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>userid</span><span class=p>,</span> <span class=s1>&#39;there&#39;</span><span class=p>)</span><span class=si>}</span><span class=s2>!&#34;</span>
</span></span><span class=line><span class=cl><span class=n>greeting</span><span class=p>(</span><span class=mi>382</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># &#34;Hi Alice!&#34;</span>
</span></span><span class=line><span class=cl><span class=n>greeting</span><span class=p>(</span><span class=mi>333333</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># &#34;Hi there!&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># How to use namedtuples</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>collections</span> <span class=kn>import</span> <span class=n>namedtuple</span>
</span></span><span class=line><span class=cl><span class=n>Car</span> <span class=o>=</span> <span class=n>namedtuple</span><span class=p>(</span><span class=s1>&#39;Car&#39;</span><span class=p>,</span> <span class=s1>&#39;color mileage&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>my_car</span> <span class=o>=</span> <span class=n>Car</span><span class=p>(</span><span class=s1>&#39;red&#39;</span><span class=p>,</span> <span class=mf>3812.4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>my_car</span><span class=o>.</span><span class=n>color</span>
</span></span><span class=line><span class=cl><span class=c1># &#34;red&#34;</span>
</span></span><span class=line><span class=cl><span class=n>my_car</span><span class=o>.</span><span class=n>mileage</span>
</span></span><span class=line><span class=cl><span class=c1># 3812.4</span>
</span></span><span class=line><span class=cl><span class=n>my_car</span>
</span></span><span class=line><span class=cl><span class=c1># Car(color=&#39;red&#39; , mileage=3812.4)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># like tuples, namedtuples are immutable</span>
</span></span><span class=line><span class=cl><span class=n>my_car</span><span class=o>.</span><span class=n>color</span> <span class=o>=</span> <span class=s1>&#39;blue&#39;</span>
</span></span><span class=line><span class=cl><span class=c1># AttributeError: &#34;can&#39;t set attribute&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Get the pythonic style guide, the Zen of Python (PEP 20)</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>this</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>The Zen of Python, by Tim Peters
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>Beautiful is better than ugly.
</span></span></span><span class=line><span class=cl><span class=s2>Explicit is better than implicit.
</span></span></span><span class=line><span class=cl><span class=s2>Simple is better than complex.
</span></span></span><span class=line><span class=cl><span class=s2>Complex is better than complicated.
</span></span></span><span class=line><span class=cl><span class=s2>Flat is better than nested.
</span></span></span><span class=line><span class=cl><span class=s2>Sparse is better than dense.
</span></span></span><span class=line><span class=cl><span class=s2>Readability counts.
</span></span></span><span class=line><span class=cl><span class=s2>Special cases aren&#39;t special enough to break the rules.
</span></span></span><span class=line><span class=cl><span class=s2>Although practicality beats purity.
</span></span></span><span class=line><span class=cl><span class=s2>Errors should never pass silently.
</span></span></span><span class=line><span class=cl><span class=s2>Unless explicitly silenced.
</span></span></span><span class=line><span class=cl><span class=s2>In the face of ambiguity, refuse the temptation to guess.
</span></span></span><span class=line><span class=cl><span class=s2>There should be one-- and preferably only one --obvious way to do it.
</span></span></span><span class=line><span class=cl><span class=s2>Although that way may not be obvious at first unless you&#39;re Dutch.
</span></span></span><span class=line><span class=cl><span class=s2>Now is better than never.
</span></span></span><span class=line><span class=cl><span class=s2>Although never is often better than *right* now.
</span></span></span><span class=line><span class=cl><span class=s2>If the implementation is hard to explain, it&#39;s a bad idea.
</span></span></span><span class=line><span class=cl><span class=s2>If the implementation is easy to explain, it may be a good idea.
</span></span></span><span class=line><span class=cl><span class=s2>Namespaces are one honking great idea -- let&#39;s do more of those!
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># How to pretty print dictionaries</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>json</span>
</span></span><span class=line><span class=cl><span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>my_mapping</span><span class=p>,</span> <span class=n>indent</span><span class=o>=</span><span class=mi>4</span><span class=p>,</span> <span class=n>sort_keys</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>{
</span></span></span><span class=line><span class=cl><span class=s2>  &#34;a&#34;: 23,
</span></span></span><span class=line><span class=cl><span class=s2>  &#34;b&#34;: 42,
</span></span></span><span class=line><span class=cl><span class=s2>  &#34;c&#34;: 12648430
</span></span></span><span class=line><span class=cl><span class=s2>}
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Function argument unpacking</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>z</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>z</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>tuple_vec</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>dict_vec</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;x&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;y&#39;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span> <span class=s1>&#39;z&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myfunc</span><span class=p>(</span><span class=o>*</span><span class=n>tuple_vec</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># 1, 0, 1</span>
</span></span><span class=line><span class=cl><span class=n>myfunc</span><span class=p>(</span><span class=o>**</span><span class=n>dict_vec</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># 1, 0, 1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># How to time execution of code snippets</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>timeit</span>
</span></span><span class=line><span class=cl><span class=n>timeit</span><span class=o>.</span><span class=n>timeit</span><span class=p>(</span><span class=s1>&#39;&#34;-&#34;.join(str(n) for n in range(100))&#39;</span><span class=p>,</span> <span class=n>number</span><span class=o>=</span><span class=mi>10000</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># 0.3412662749997253</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>timeit</span><span class=o>.</span><span class=n>timeit</span><span class=p>(</span><span class=s1>&#39;&#34;-&#34;.join([str(n) for n in range(100)])&#39;</span><span class=p>,</span> <span class=n>number</span><span class=o>=</span><span class=mi>10000</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># 0.2996307989997149</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>timeit</span><span class=o>.</span><span class=n>timeit</span><span class=p>(</span><span class=s1>&#39;&#34;-&#34;.join(map(str, range(100)))&#39;</span><span class=p>,</span> <span class=n>number</span><span class=o>=</span><span class=mi>10000</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># 0.24581470699922647</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Shorthand for swapping variables (without a temp)</span>
</span></span><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=mi>23</span>
</span></span><span class=line><span class=cl><span class=n>b</span> <span class=o>=</span> <span class=mi>42</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># classic way:</span>
</span></span><span class=line><span class=cl><span class=n>tmp</span> <span class=o>=</span> <span class=n>a</span>
</span></span><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=n>b</span>
</span></span><span class=line><span class=cl><span class=n>b</span> <span class=o>=</span> <span class=n>tmp</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># pythonic way:</span>
</span></span><span class=line><span class=cl><span class=n>a</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=n>b</span><span class=p>,</span> <span class=n>a</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># &#34;is&#34; vs &#34;==&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># &#34;is&#34; expressions evaluate to True if two variables point to the same object</span>
</span></span><span class=line><span class=cl><span class=c1># &#34;==&#34; evaluates to True if the objects referred to by the variables are equal</span>
</span></span><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>b</span> <span class=o>=</span> <span class=n>a</span>
</span></span><span class=line><span class=cl><span class=n>c</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a</span> <span class=o>==</span> <span class=n>b</span>
</span></span><span class=line><span class=cl><span class=c1># True</span>
</span></span><span class=line><span class=cl><span class=n>a</span> <span class=ow>is</span> <span class=n>b</span>
</span></span><span class=line><span class=cl><span class=c1># True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a</span> <span class=o>==</span> <span class=n>c</span>
</span></span><span class=line><span class=cl><span class=c1># True</span>
</span></span><span class=line><span class=cl><span class=n>a</span> <span class=ow>is</span> <span class=n>c</span>
</span></span><span class=line><span class=cl><span class=c1># False</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Functions are first-class citizens</span>
</span></span><span class=line><span class=cl><span class=c1># They can be passed as arguments to other functions,</span>
</span></span><span class=line><span class=cl><span class=c1># returned as values from other functions, and</span>
</span></span><span class=line><span class=cl><span class=c1># assigned to variables and stored in data structures.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>a</span> <span class=o>+</span> <span class=n>b</span>
</span></span><span class=line><span class=cl><span class=n>funcs</span> <span class=o>=</span> <span class=p>[</span><span class=n>myfunc</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>funcs</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=c1># &lt;function myfunc at 0x107012230&gt;</span>
</span></span><span class=line><span class=cl><span class=n>funcs</span><span class=p>[</span><span class=mi>0</span><span class=p>](</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># 5</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Use functions to emulate a switch block</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>dispatch_if</span><span class=p>(</span><span class=n>operator</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=n>operator</span> <span class=o>==</span> <span class=s1>&#39;add&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>x</span> <span class=o>+</span> <span class=n>y</span>
</span></span><span class=line><span class=cl>  <span class=k>elif</span> <span class=n>operator</span> <span class=o>==</span> <span class=s1>&#39;sub&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>x</span> <span class=o>-</span> <span class=n>y</span>
</span></span><span class=line><span class=cl>  <span class=k>elif</span> <span class=n>operator</span> <span class=o>==</span> <span class=s1>&#39;mul&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>x</span> <span class=o>*</span> <span class=n>y</span>
</span></span><span class=line><span class=cl>  <span class=k>elif</span> <span class=n>operator</span> <span class=o>==</span> <span class=s1>&#39;div&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>x</span> <span class=o>/</span> <span class=n>y</span>
</span></span><span class=line><span class=cl>  <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>dispatch_dict</span><span class=p>(</span><span class=n>operator</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;add&#39;</span><span class=p>:</span> <span class=k>lambda</span><span class=p>:</span> <span class=n>x</span> <span class=o>+</span> <span class=n>y</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;sub&#39;</span><span class=p>:</span> <span class=k>lambda</span><span class=p>:</span> <span class=n>x</span> <span class=o>-</span> <span class=n>y</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;mul&#39;</span><span class=p>:</span> <span class=k>lambda</span><span class=p>:</span> <span class=n>x</span> <span class=o>*</span> <span class=n>y</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;div&#39;</span><span class=p>:</span> <span class=k>lambda</span><span class=p>:</span> <span class=n>x</span> <span class=o>/</span> <span class=n>y</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>operator</span><span class=p>,</span> <span class=k>lambda</span><span class=p>:</span> <span class=kc>None</span><span class=p>)()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>dispatch_if</span><span class=p>(</span><span class=s1>&#39;mul&#39;</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>8</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># 16</span>
</span></span><span class=line><span class=cl><span class=n>dispatch_dict</span><span class=p>(</span><span class=s1>&#39;mul&#39;</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>8</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># 16</span>
</span></span><span class=line><span class=cl><span class=n>dispatch_if</span><span class=p>(</span><span class=s1>&#39;unknown&#39;</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>8</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># None</span>
</span></span><span class=line><span class=cl><span class=n>dispatch_dict</span><span class=p>(</span><span class=s1>&#39;unknown&#39;</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>8</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># None</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Run a simple HTTP server (3.x)</span>
</span></span><span class=line><span class=cl><span class=c1># (This will serve the current directory at http://localhost:8000)</span>
</span></span><span class=line><span class=cl><span class=err>$</span> <span class=n>python3</span> <span class=o>-</span><span class=n>m</span> <span class=n>http</span><span class=o>.</span><span class=n>server</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># List comprehensions are awesome</span>
</span></span><span class=line><span class=cl><span class=n>vals</span> <span class=o>=</span> <span class=p>[</span><span class=n>expression</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>collection</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>condition</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># is equivalent to:</span>
</span></span><span class=line><span class=cl><span class=n>vals</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>collection</span><span class=p>:</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=n>condition</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>vals</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>expression</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Example:</span>
</span></span><span class=line><span class=cl><span class=n>even_squares</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=o>*</span> <span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span> <span class=k>if</span> <span class=ow>not</span> <span class=n>x</span> <span class=o>%</span> <span class=mi>2</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>even_squares</span>
</span></span><span class=line><span class=cl><span class=c1># [0, 4, 16, 36, 64]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Use type annotations for hints (3.5+)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>my_add</span><span class=p>(</span><span class=n>a</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>b</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>a</span> <span class=o>+</span> <span class=n>b</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Using list slice syntax makes list manipulation easy</span>
</span></span><span class=line><span class=cl><span class=c1># You can clear all elements from a list:</span>
</span></span><span class=line><span class=cl><span class=n>lst</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=k>del</span> <span class=n>lst</span><span class=p>[:]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>lst</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># []</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># You can replace all elements of a list without creating a new list object:</span>
</span></span><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=n>lst</span>
</span></span><span class=line><span class=cl><span class=n>lst</span><span class=p>[:]</span> <span class=o>=</span> <span class=p>[</span><span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>9</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>lst</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># [7, 8, 9]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># [7, 8, 9]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>a</span> <span class=ow>is</span> <span class=n>lst</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># You can also create a (shallow) copy of a list:</span>
</span></span><span class=line><span class=cl><span class=n>b</span> <span class=o>=</span> <span class=n>lst</span><span class=p>[:]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>b</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># [7, 8, 9]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>b</span> <span class=ow>is</span> <span class=n>lst</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># False</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Fun little Python easter egg (2.7+)</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>antigravity</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Find most common elements in an iterable (list, dict, etc.)</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>collections</span>
</span></span><span class=line><span class=cl><span class=n>c</span> <span class=o>=</span> <span class=n>collections</span><span class=o>.</span><span class=n>Counter</span><span class=p>(</span><span class=s1>&#39;helloworld&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># Counter({&#39;l&#39;: 3, &#39;o&#39;: 2, &#39;e&#39;: 1, &#39;d&#39;: 1, &#39;h&#39;: 1, &#39;r&#39;: 1, &#39;w&#39;: 1})</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>c</span><span class=o>.</span><span class=n>most_common</span><span class=p>(</span><span class=mi>3</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=c1># [(&#39;l&#39;, 3), (&#39;o&#39;, 2), (&#39;e&#39;, 1)]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Get all permutations from an iterable (list, dict, etc.)</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>itertools</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>itertools</span><span class=o>.</span><span class=n>permutations</span><span class=p>(</span><span class=s1>&#39;ABCD&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>(&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;)
</span></span></span><span class=line><span class=cl><span class=s2>(&#39;A&#39;, &#39;B&#39;, &#39;D&#39;, &#39;C&#39;)
</span></span></span><span class=line><span class=cl><span class=s2>(&#39;A&#39;, &#39;C&#39;, &#39;B&#39;, &#39;D&#39;)
</span></span></span><span class=line><span class=cl><span class=s2>(&#39;A&#39;, &#39;C&#39;, &#39;D&#39;, &#39;B&#39;)
</span></span></span><span class=line><span class=cl><span class=s2>(&#39;A&#39;, &#39;D&#39;, &#39;B&#39;, &#39;C&#39;)
</span></span></span><span class=line><span class=cl><span class=s2>(&#39;A&#39;, &#39;D&#39;, &#39;C&#39;, &#39;B&#39;)
</span></span></span><span class=line><span class=cl><span class=s2>(&#39;B&#39;, &#39;A&#39;, &#39;C&#39;, &#39;D&#39;)
</span></span></span><span class=line><span class=cl><span class=s2>(&#39;B&#39;, &#39;A&#39;, &#39;D&#39;, &#39;C&#39;)
</span></span></span><span class=line><span class=cl><span class=s2>(&#39;B&#39;, &#39;C&#39;, &#39;A&#39;, &#39;D&#39;)
</span></span></span><span class=line><span class=cl><span class=s2>(&#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;A&#39;)
</span></span></span><span class=line><span class=cl><span class=s2>(&#39;B&#39;, &#39;D&#39;, &#39;A&#39;, &#39;C&#39;)
</span></span></span><span class=line><span class=cl><span class=s2>(&#39;B&#39;, &#39;D&#39;, &#39;C&#39;, &#39;A&#39;)
</span></span></span><span class=line><span class=cl><span class=s2>(&#39;C&#39;, &#39;A&#39;, &#39;B&#39;, &#39;D&#39;)
</span></span></span><span class=line><span class=cl><span class=s2>(&#39;C&#39;, &#39;A&#39;, &#39;D&#39;, &#39;B&#39;)
</span></span></span><span class=line><span class=cl><span class=s2>(&#39;C&#39;, &#39;B&#39;, &#39;A&#39;, &#39;D&#39;)
</span></span></span><span class=line><span class=cl><span class=s2>(&#39;C&#39;, &#39;B&#39;, &#39;D&#39;, &#39;A&#39;)
</span></span></span><span class=line><span class=cl><span class=s2>(&#39;C&#39;, &#39;D&#39;, &#39;A&#39;, &#39;B&#39;)
</span></span></span><span class=line><span class=cl><span class=s2>(&#39;C&#39;, &#39;D&#39;, &#39;B&#39;, &#39;A&#39;)
</span></span></span><span class=line><span class=cl><span class=s2>(&#39;D&#39;, &#39;A&#39;, &#39;B&#39;, &#39;C&#39;)
</span></span></span><span class=line><span class=cl><span class=s2>(&#39;D&#39;, &#39;A&#39;, &#39;C&#39;, &#39;B&#39;)
</span></span></span><span class=line><span class=cl><span class=s2>(&#39;D&#39;, &#39;B&#39;, &#39;A&#39;, &#39;C&#39;)
</span></span></span><span class=line><span class=cl><span class=s2>(&#39;D&#39;, &#39;B&#39;, &#39;C&#39;, &#39;A&#39;)
</span></span></span><span class=line><span class=cl><span class=s2>(&#39;D&#39;, &#39;C&#39;, &#39;A&#39;, &#39;B&#39;)
</span></span></span><span class=line><span class=cl><span class=s2>(&#39;D&#39;, &#39;C&#39;, &#39;B&#39;, &#39;A&#39;)
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># __repr__ vs. __str__</span>
</span></span><span class=line><span class=cl><span class=c1># Emulate what the std lib does:</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>datetime</span>
</span></span><span class=line><span class=cl><span class=n>today</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>date</span><span class=o>.</span><span class=n>today</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Result of __str__ should be readable:</span>
</span></span><span class=line><span class=cl><span class=nb>str</span><span class=p>(</span><span class=n>today</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># &#39;2017-02-02&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Result of __repr__ should be unambiguous:</span>
</span></span><span class=line><span class=cl><span class=nb>repr</span><span class=p>(</span><span class=n>today</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># &#39;datetime.date(2017, 2, 2)&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Python interpreter sessions use __repr__ to inspect objects:</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>today</span>
</span></span><span class=line><span class=cl><span class=c1># datetime.date(2017, 2, 2)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Disassemble functions into their Python VM bytcode</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>greet</span><span class=p>(</span><span class=n>name</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=s1>&#39;Hello, &#39;</span> <span class=o>+</span> <span class=n>name</span> <span class=o>+</span> <span class=s1>&#39;!&#39;</span>
</span></span><span class=line><span class=cl><span class=n>greet</span><span class=p>(</span><span class=s1>&#39;Dan&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># &#39;Hello, Dan!&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>dis</span>
</span></span><span class=line><span class=cl><span class=n>dis</span><span class=o>.</span><span class=n>dis</span><span class=p>(</span><span class=n>greet</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>2   0 LOAD_CONST     1 (&#39;Hello, &#39;)
</span></span></span><span class=line><span class=cl><span class=s2>    2 LOAD_FAST      0 (name)
</span></span></span><span class=line><span class=cl><span class=s2>    4 BINARY_ADD
</span></span></span><span class=line><span class=cl><span class=s2>    6 LOAD_CONST     2 (&#39;!&#39;)
</span></span></span><span class=line><span class=cl><span class=s2>    8 BINARY_ADD
</span></span></span><span class=line><span class=cl><span class=s2>   10 RETURN_VALUE
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># @classmethod vs @staticmethod vs &#34;plain&#34; methods</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MyClass</span><span class=p>:</span>
</span></span><span class=line><span class=cl>  <span class=k>def</span> <span class=nf>method</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    Instance methods need a class instance and
</span></span></span><span class=line><span class=cl><span class=s2>    can access the instance through `self`.
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s1>&#39;instance method called&#39;</span><span class=p>,</span> <span class=bp>self</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@classmethod</span>
</span></span><span class=line><span class=cl>  <span class=k>def</span> <span class=nf>classmethod</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    Class methods don&#39;t need a class instance.
</span></span></span><span class=line><span class=cl><span class=s2>    They can&#39;t access the instance (self) but
</span></span></span><span class=line><span class=cl><span class=s2>    they have access to the class itself via `cls`.
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s1>&#39;class method called&#39;</span><span class=p>,</span> <span class=bp>cls</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@staticmethod</span>
</span></span><span class=line><span class=cl>  <span class=k>def</span> <span class=nf>staticmethod</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    Static methods don&#39;t have access to `cls` or `self`.
</span></span></span><span class=line><span class=cl><span class=s2>    They work like regular functions but belong to
</span></span></span><span class=line><span class=cl><span class=s2>    the class&#39;s namespace.
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s1>&#39;static method called&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># All methods types can be called on a class instance:</span>
</span></span><span class=line><span class=cl><span class=n>obj</span> <span class=o>=</span> <span class=n>MyClass</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>obj</span><span class=o>.</span><span class=n>method</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=c1># (&#39;instance method called&#39;, &lt;MyClass instance at 0x1019381b8&gt;)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>obj</span><span class=o>.</span><span class=n>classmethod</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=c1># (&#39;class method called&#39;, &lt;class MyClass at 0x101a2f4c8&gt;)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>obj</span><span class=o>.</span><span class=n>staticmethod</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=c1># &#39;static method called&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Calling instance methods fails if we only have the class object:</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>MyClass</span><span class=o>.</span><span class=n>classmethod</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=c1># (&#39;class method called&#39;, &lt;class MyClass at 0x101a2f4c8&gt;)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>MyClass</span><span class=o>.</span><span class=n>staticmethod</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=c1># &#39;static method called&#39;</span>
</span></span><span class=line><span class=cl><span class=c1># print(MyClass.method())</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>TypeError:
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;unbound method method() must be called with MyClass &#34;
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;instance as first argument (got nothing instead)&#34;
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># How to use lambda functions</span>
</span></span><span class=line><span class=cl><span class=n>add</span> <span class=o>=</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>:</span> <span class=n>x</span> <span class=o>+</span> <span class=n>y</span>
</span></span><span class=line><span class=cl><span class=n>add</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># 8</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># You could declare the same add() function with the def keyword:</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>add</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>x</span> <span class=o>+</span> <span class=n>y</span>
</span></span><span class=line><span class=cl><span class=n>add</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># 8</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># So what&#39;s the big fuss about? Lambdas are *function expressions*:</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>:</span> <span class=n>x</span> <span class=o>+</span> <span class=n>y</span><span class=p>)(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># 8</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Lambda functions are single-expression</span>
</span></span><span class=line><span class=cl><span class=c1># functions that are not necessarily bound</span>
</span></span><span class=line><span class=cl><span class=c1># to a name (they can be anonymous).</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Lambda functions can&#39;t use regular</span>
</span></span><span class=line><span class=cl><span class=c1># Python statements and always include an</span>
</span></span><span class=line><span class=cl><span class=c1># implicit `return` statement.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Use IP addresses</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>ipaddress</span>
</span></span><span class=line><span class=cl><span class=n>ipaddress</span><span class=o>.</span><span class=n>ip_address</span><span class=p>(</span><span class=s1>&#39;192.168.1.2&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># IPv4Address(&#39;192.168.1.2&#39;)</span>
</span></span><span class=line><span class=cl><span class=n>ipaddress</span><span class=o>.</span><span class=n>ip_address</span><span class=p>(</span><span class=s1>&#39;2001:af3::&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># IPv6Address(&#39;2001:af3::&#39;)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Get the name of object, class, or function at runtime</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MyClass</span><span class=p>:</span> <span class=k>pass</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc</span><span class=p>():</span> <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>obj</span> <span class=o>=</span> <span class=n>MyClass</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>obj</span><span class=o>.</span><span class=vm>__class__</span><span class=o>.</span><span class=vm>__name__</span>
</span></span><span class=line><span class=cl><span class=c1># &#39;MyClass&#39;</span>
</span></span><span class=line><span class=cl><span class=n>myfunc</span><span class=o>.</span><span class=vm>__name__</span>
</span></span><span class=line><span class=cl><span class=c1># &#39;myfunc&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Check for class inheritance relationships</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>BaseClass</span><span class=p>:</span> <span class=k>pass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SubClass</span><span class=p>(</span><span class=n>BaseClass</span><span class=p>):</span> <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>issubclass</span><span class=p>(</span><span class=n>SubClass</span><span class=p>,</span> <span class=n>BaseClass</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># True</span>
</span></span><span class=line><span class=cl><span class=nb>issubclass</span><span class=p>(</span><span class=n>SubClass</span><span class=p>,</span> <span class=nb>object</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># True</span>
</span></span><span class=line><span class=cl><span class=nb>issubclass</span><span class=p>(</span><span class=n>BaseClass</span><span class=p>,</span> <span class=n>SubClass</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># False</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Use unicode characters in variable names</span>
</span></span><span class=line><span class=cl><span class=n>œÄ</span> <span class=o>=</span> <span class=n>math</span><span class=o>.</span><span class=n>pi</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Spin</span><span class=err>Ãà</span><span class=n>alTap</span><span class=p>:</span> <span class=k>pass</span>
</span></span><span class=line><span class=cl><span class=n>Spin</span><span class=err>Ãà</span><span class=n>alTap</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=c1># &lt;SpinÃàalTap object at 0x10e58d908&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Only letter-like characters work, however:</span>
</span></span><span class=line><span class=cl><span class=err>üç∫</span> <span class=o>=</span> <span class=s2>&#34;beer&#34;</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>SyntaxError: &#34;invalid character in identifier&#34;
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Get global and local variables</span>
</span></span><span class=line><span class=cl><span class=c1># &#34;globals()&#34; returns a dict with all global variables in the current scope:</span>
</span></span><span class=line><span class=cl><span class=nb>globals</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=c1># {...}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># &#34;locals()&#34; does the same but for all local variables in the current scope:</span>
</span></span><span class=line><span class=cl><span class=nb>locals</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=c1># {...}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Get traceback even when python fails (e.g. from a segmentation fault)</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>faulthandler</span>
</span></span><span class=line><span class=cl><span class=n>faulthandler</span><span class=o>.</span><span class=n>enable</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Can also be enabled with &#34;python -X faulthandler&#34; from the command line</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># # Virtual Environments (&#34;virtualenvs&#34;) keep</span>
</span></span><span class=line><span class=cl><span class=c1># your project dependencies separated.</span>
</span></span><span class=line><span class=cl><span class=c1># They help you avoid version conflicts</span>
</span></span><span class=line><span class=cl><span class=c1># between packages and different versions</span>
</span></span><span class=line><span class=cl><span class=c1># of the Python runtime.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Before creating &amp; activating a virtualenv:</span>
</span></span><span class=line><span class=cl><span class=c1># `python` and `pip` map to the system</span>
</span></span><span class=line><span class=cl><span class=c1># version of the Python interpreter</span>
</span></span><span class=line><span class=cl><span class=c1># (e.g. Python 2.7)</span>
</span></span><span class=line><span class=cl><span class=err>$</span> <span class=n>which</span> <span class=n>python</span>
</span></span><span class=line><span class=cl><span class=o>/</span><span class=n>usr</span><span class=o>/</span><span class=n>local</span><span class=o>/</span><span class=nb>bin</span><span class=o>/</span><span class=n>python</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Let&#39;s create a fresh virtualenv using</span>
</span></span><span class=line><span class=cl><span class=c1># another version of Python (Python 3):</span>
</span></span><span class=line><span class=cl><span class=err>$</span> <span class=n>python3</span> <span class=o>-</span><span class=n>m</span> <span class=n>venv</span> <span class=o>./</span><span class=n>venv</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># A virtualenv is just a &#34;Python</span>
</span></span><span class=line><span class=cl><span class=c1># environment in a folder&#34;:</span>
</span></span><span class=line><span class=cl><span class=err>$</span> <span class=n>ls</span> <span class=o>./</span><span class=n>venv</span>
</span></span><span class=line><span class=cl><span class=nb>bin</span>      <span class=n>include</span>    <span class=n>lib</span>      <span class=n>pyvenv</span><span class=o>.</span><span class=n>cfg</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Activating a virtualenv configures the</span>
</span></span><span class=line><span class=cl><span class=c1># current shell session to use the python</span>
</span></span><span class=line><span class=cl><span class=c1># (and pip) commands from the virtualenv</span>
</span></span><span class=line><span class=cl><span class=c1># folder instead of the global environment:</span>
</span></span><span class=line><span class=cl><span class=err>$</span> <span class=n>source</span> <span class=o>./</span><span class=n>venv</span><span class=o>/</span><span class=nb>bin</span><span class=o>/</span><span class=n>activate</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Note how activating a virtualenv modifies</span>
</span></span><span class=line><span class=cl><span class=c1># your shell prompt with a little note</span>
</span></span><span class=line><span class=cl><span class=c1># showing the name of the virtualenv folder:</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=n>venv</span><span class=p>)</span> <span class=err>$</span> <span class=n>echo</span> <span class=s2>&#34;wee!&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># With an active virtualenv, the `python`</span>
</span></span><span class=line><span class=cl><span class=c1># command maps to the interpreter binary</span>
</span></span><span class=line><span class=cl><span class=c1># *inside the active virtualenv*:</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=n>venv</span><span class=p>)</span> <span class=err>$</span> <span class=n>which</span> <span class=n>python</span>
</span></span><span class=line><span class=cl><span class=o>/</span><span class=n>Users</span><span class=o>/</span><span class=n>dan</span><span class=o>/</span><span class=n>my</span><span class=o>-</span><span class=n>project</span><span class=o>/</span><span class=n>venv</span><span class=o>/</span><span class=nb>bin</span><span class=o>/</span><span class=n>python3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Installing new libraries and frameworks</span>
</span></span><span class=line><span class=cl><span class=c1># with `pip` now installs them *into the</span>
</span></span><span class=line><span class=cl><span class=c1># virtualenv sandbox*, leaving your global</span>
</span></span><span class=line><span class=cl><span class=c1># environment (and any other virtualenvs)</span>
</span></span><span class=line><span class=cl><span class=c1># completely unmodified:</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=n>venv</span><span class=p>)</span> <span class=err>$</span> <span class=n>pip</span> <span class=n>install</span> <span class=n>requests</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># To get back to the global Python</span>
</span></span><span class=line><span class=cl><span class=c1># environment, run the following command:</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=n>venv</span><span class=p>)</span> <span class=err>$</span> <span class=n>deactivate</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># (See how the prompt changed back</span>
</span></span><span class=line><span class=cl><span class=c1># to &#34;normal&#34; again?)</span>
</span></span><span class=line><span class=cl><span class=err>$</span> <span class=n>echo</span> <span class=s2>&#34;yay!&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Deactivating the virtualenv flipped the</span>
</span></span><span class=line><span class=cl><span class=c1># `python` and `pip` commands back to</span>
</span></span><span class=line><span class=cl><span class=c1># the global environment:</span>
</span></span><span class=line><span class=cl><span class=err>$</span> <span class=n>which</span> <span class=n>python</span>
</span></span><span class=line><span class=cl><span class=o>/</span><span class=n>usr</span><span class=o>/</span><span class=n>local</span><span class=o>/</span><span class=nb>bin</span><span class=o>/</span><span class=n>python</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># You can `else` statements with `for` and `while` blocks</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>contains</span><span class=p>(</span><span class=n>haystack</span><span class=p>,</span> <span class=n>needle</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>haystack</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>needle</span> <span class=o>==</span> <span class=n>haystack</span><span class=p>:</span>
</span></span><span class=line><span class=cl>      <span class=k>break</span>
</span></span><span class=line><span class=cl>  <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># The `else` here is a &#34;completion clause&#34; that runs only if the loop ran to completion</span>
</span></span><span class=line><span class=cl>    <span class=c1># without hitting a `break` statement.</span>
</span></span><span class=line><span class=cl>    <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s1>&#39;needle not found&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Pythonic ways of checking if all items in a list are equal;</span>
</span></span><span class=line><span class=cl><span class=c1># Ordered from &#34;most Pythonic&#34; to &#34;least Pythonic&#34; and &#34;least</span>
</span></span><span class=line><span class=cl><span class=c1># efficient&#34; to &#34;most efficient&#34;. The len(set()) solution is</span>
</span></span><span class=line><span class=cl><span class=c1># idiomatic, but constructing a set is less efficient memory</span>
</span></span><span class=line><span class=cl><span class=c1># and speed-wise.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>lst</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;a&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>len</span><span class=p>(</span><span class=nb>set</span><span class=p>(</span><span class=n>lst</span><span class=p>))</span> <span class=o>==</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=c1># True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>all</span><span class=p>(</span><span class=n>x</span> <span class=o>==</span> <span class=n>lst</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>lst</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>lst</span><span class=o>.</span><span class=n>count</span><span class=p>(</span><span class=n>lst</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span> <span class=o>==</span> <span class=nb>len</span><span class=p>(</span><span class=n>lst</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># In Python 3.4+ you can use</span>
</span></span><span class=line><span class=cl><span class=c1># contextlib.suppress() to selectively</span>
</span></span><span class=line><span class=cl><span class=c1># ignore specific exceptions:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>contextlib</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=n>contextlib</span><span class=o>.</span><span class=n>suppress</span><span class=p>(</span><span class=ne>FileNotFoundError</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>os</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=s1>&#39;somefile.tmp&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># This is equivalent to:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>  <span class=n>os</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=s1>&#39;somefile.tmp&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=ne>FileNotFoundError</span><span class=p>:</span>
</span></span><span class=line><span class=cl>  <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># contextlib.suppress docstring:</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># &#34;Return a context manager that suppresses any</span>
</span></span><span class=line><span class=cl><span class=c1>#  of the specified exceptions if they occur in the body</span>
</span></span><span class=line><span class=cl><span class=c1>#  of a with statement and then resumes execution with</span>
</span></span><span class=line><span class=cl><span class=c1>#  the first statement following the end of</span>
</span></span><span class=line><span class=cl><span class=c1>#  the with statement.&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># In Python 3 you can use a bare &#34;*&#34; asterisk</span>
</span></span><span class=line><span class=cl><span class=c1># in function parameter lists to force the</span>
</span></span><span class=line><span class=cl><span class=c1># caller to use keyword arguments for certain</span>
</span></span><span class=line><span class=cl><span class=c1># parameters:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>f</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=s1>&#39;y&#39;</span><span class=p>,</span> <span class=n>e</span><span class=o>=</span><span class=s1>&#39;z&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=s1>&#39;Hello&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># To pass the value for c, d, and e you</span>
</span></span><span class=line><span class=cl><span class=c1># will need to explicitly pass it as</span>
</span></span><span class=line><span class=cl><span class=c1># &#34;key=value&#34; named arguments:</span>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=s1>&#39;p&#39;</span><span class=p>,</span> <span class=s1>&#39;q&#39;</span><span class=p>,</span> <span class=s1>&#39;v&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># TypeError:</span>
</span></span><span class=line><span class=cl><span class=c1># &#34;f() takes 2 positional arguments but 5 were given&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=s1>&#39;p&#39;</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=s1>&#39;q&#39;</span><span class=p>,</span><span class=n>e</span><span class=o>=</span><span class=s1>&#39;v&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># &#39;Hello&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Python 3.5+ allows passing multiple sets</span>
</span></span><span class=line><span class=cl><span class=c1># of keyword arguments (&#34;kwargs&#34;) to a</span>
</span></span><span class=line><span class=cl><span class=c1># function within a single call, using</span>
</span></span><span class=line><span class=cl><span class=c1># the &#34;**&#34; syntax:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>process_data</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>,</span> <span class=n>d</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>,</span> <span class=n>d</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=mi>2</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>y</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;c&#39;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s1>&#39;d&#39;</span><span class=p>:</span> <span class=mi>4</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>process_data</span><span class=p>(</span><span class=o>**</span><span class=n>x</span><span class=p>,</span> <span class=o>**</span><span class=n>y</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># 1 2 3 4</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>process_data</span><span class=p>(</span><span class=o>**</span><span class=n>x</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=mi>23</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>42</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># 1 2 23 42</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===================================== #</span>
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://shenlong616.github.io/tags/python/>python</a></li><li><a href=https://shenlong616.github.io/tags/python-tips/>python tips</a></li><li><a href=https://shenlong616.github.io/tags/python-tricks/>python tricks</a></li></ul><nav class=paginav><a class=prev href=https://shenlong616.github.io/posts/github/catalinpit/js-tips-and-tricks/><span class=title>¬´ Prev</span><br><span>JAVASCRIPT TIPS & TRICKS üî•üöÄ‚ö°</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://shenlong616.github.io/>Shenlong616</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>const initNProgress=e=>{NProgress.set(e),NProgress.done(!0)};document.addEventListener("DOMContentLoaded",()=>{if(initNProgress(.1),document.getElementsByTagName("input").length>0)for(const e of document.getElementsByTagName("input"))e.addEventListener("input",()=>{initNProgress(.1)});else void this;if(document.querySelectorAll(".copy-code, .top-link, #theme-toggle").length>0)for(const e of document.querySelectorAll(".copy-code, .top-link, #theme-toggle"))e.addEventListener("click",()=>{initNProgress(.1)});else void this;const e=e=>e[Math.floor(Math.random()*e.length)],t=[{Bengali:"‡¶®‡¶Æ‡¶∏‡ßç‡¶ï‡¶æ‡¶∞!"},{boro:"‡§ñ‡•Å‡§≤‡•Å‡§Æ‡•ç‡§¨‡§æ‡§á!"},{Bulgarian:"–ó–¥—Ä–∞–≤–µ–π!"},{Chinese:"‰Ω†Â•Ω!"},{Croat:"Zdravo!"},{Czech:"Ahoj!"},{Danish:"Hej!"},{Dutch:"Hallo!"},{English:"Hello!"},{Esperanto:"Saluton!"},{Estnisch:"Tere!"},{Farsi:"Salam!"},{Fidschi:"Bula!"},{Finnish:"Terve!"},{Flemish:"Hallo!"},{French:"Salut!"},{Greek:"ŒìŒµŒπŒ¨!"},{Hawaiian:"Aloha!"},{Hebrew:"!◊©◊ú◊ï◊ù"},{Hindi:"‡§®‡§Æ‡§∏‡•ç‡§§‡•á!"},{Italian:"Ciao!"},{Japanese:"„Åì„Çì„Å´„Å°„ÅØ!"},{Khmer:"Tchum-reaup Suw!"},{Korean:"ÏïàÏòÅÌïòÏÑ∏Ïöî!"},{Lettish:"ƒåau!"},{Lithuanian:"Labas!"},{Malaiisch:"Hai!"},{Mongolian:"–°–∞–π–Ω —É—É!"},{Norwegian:"Hei!"},{Polish:"Cze≈õƒá!"},{Portuguese:"Ol√°!"},{Rumanian:"Salut!"},{Russian:"–ü—Ä–∏–≤–µ—Ç!"},{Slovak:"Ahoj!"},{Spanish:"Hola!"},{Swedish:"Hej!"},{Swiss_German:"Hoi!"},{Tamil_Nadu:"‡Æµ‡Æ£‡Æï‡Øç‡Æï‡ÆÆ‡Øç!"},{Thai:"‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏∞!"},{Turkish:"Merhaba!"},{Vietnamese:"Xin Ch√†o!"}],n=()=>{document.getElementsByName("titleText")[0]===void 0?void this:document.getElementsByName("titleText")[0].innerText=`${Object.values(e(t))[0]}`};n();const s=()=>{document.getElementsByName("contentText")[0]===void 0?void this:document.getElementsByName("contentText")[0].innerText=e(["2024","All you have to be is yourself","Believe in your flyness...conquer your shyness.","Burn that excel spread sheet","Decentralize","Distraction is the enemy of vision","Everything you do in life stems from either fear or love","For me giving up is way harder than trying.","For me, money is not my definition of success. Inspiring people is a definition of success","Fur pillows are hard to actually sleep on","George Bush doesn't care about black people","Have you ever thought you were in love with someone but then realized you were just staring in a mirror for 20 minutes?","I care. I care about everything. Sometimes not giving a f#%k is caring the most.","I feel calm but energized","I feel like I'm too busy writing history to read it.","I feel like me and Taylor might still have sex","I give up drinking every week","I leave my emojis bart Simpson color","I love sleep; it's my favorite.","I make awesome decisions in bike stores!!!","I really love my Tesla. I'm in the future. Thank you Elon.","I still think I am the greatest.","I think I do myself a disservice by comparing myself to Steve Jobs and Walt Disney and human beings that we've seen before. It should be more like Willy Wonka...and welcome to my chocolate factory.","I want the world to be better! All I want is positive! All I want is dopeness!","I wish I had a friend like me","I'd like to meet with Tim Cook. I got some ideas","I'll say things that are serious and put them in a joke form so people can enjoy them. We laugh to keep from crying.","I'm a creative genius","I'm nice at ping pong","I'm the best","If I don't scream, if I don't say something then no one's going to say anything.","If I got any cooler I would freeze to death","If you have the opportunity to play this game of life you need to appreciate every moment. a lot of people don't appreciate the moment until it's passed.","Just stop lying about shit. Just stop lying.","Keep squares out yo circle","Keep your nose out the sky, keep your heart to god, and keep your face to the rising sun.","Let's be like water","Man... whatever happened to my antique fish tank?","My dad got me a drone for Christmas","My greatest award is what I'm about to do.","My greatest pain in life is that I will never be able to see myself perform live.","One day I'm gon' marry a porn star","One of my favorite of many things about what the Trump hat represents to me is that people can't tell me what to do because I'm black","Only free thinkers","People always say that you can't please everybody. I think that's a cop-out. Why not attempt it? Cause think of all the people that you will please if you try.","People always tell you 'Be humble. Be humble.' When was the last time someone told you to be amazing? Be great! Be awesome! Be awesome!","People only get jealous when they care.","Perhaps I should have been more like water today","Pulling up in the may bike","Shut the fuck up I will fucking laser you with alien fucking eyes and explode your fucking head","Sometimes I push the door close button on people running towards the elevator. I just need my own elevator sometimes. My sanctuary.","Sometimes you have to get rid of everything","Style is genderless","The thought police want to suppress freedom of thought","The world is our family","The world is our office","Today is the best day ever and tomorrow's going to be even better","Truth is my goal. Controversy is my gym. I'll do a hundred reps of controversy for a 6 pack of truth","Tweeting is legal and also therapeutic","We all self-conscious. I'm just the first to admit it.","We came into a broken world. And we're the cleanup crew.","You can't look at a glass half full or empty if it's overflowing.","I hate when I'm on a flight and I wake up with a water bottle next to me like oh great now I gotta be responsible for this water bottle","All the musicians will be free","Artists are founders","Buy property","Culture is the most powerful force in humanity under God","Empathy is the glue","I am one of the most famous people on the planet","I am running for President of the United States","I am the head of Adidas. I will bring Adidas and Puma back together and bring me and jay back together","I am Warhol. I am the No. 1 most impactful artist of our generation. I am Shakespeare in the flesh.","I channel Will Ferrell when I'm at the daddy daughter dances","I don't wanna see no woke tweets or hear no woke raps ... it's show time ... it's a whole different energy right now","I hear people say this person is cool and this person is not cool. People are cool. Man has never invented anything as awesome as a an actual person but sometimes we value the objects we create over life itself","I honestly need all my Royeres to be museum quality... if I see a fake Royere Ima have to Rick James your couch","I love UZI. I be saying the same thing about Steve Jobs. I be feeling just like UZI","I need an army of angels to cover me while I pull this sword out of the stone","I spoke to Dave Chapelle for two hours this morning. He is our modern day Socrates","I was just speaking with someone that told me their life story and they used to be homeless.","I watch Bladerunner on repeat","I'm giving all Good music artists back the 50% share I have of their masters","I'm going to personally see to it that Taylor Swift gets her masters back. Scooter is a close family friend","I'm the new Moses","Life is the ultimate gift","Ma$e is one of my favorite rappers and I based a lot of my flows off of him","Manga all day","My first pillar when I'm on the board of adidas will be an adidas Nike collaboration to support community growth","My mama was a' English teacher. I know how to use correct English but sometimes I just don't feel like it aaaand I ain't got to","My memories are from the future","My mother in law Kris Jenner ... makes the best music playlist","People say it's enough and I got my point across ... the point isn't across until we cross the point","People tried to talk me out of running for President. Never let weak controlling people kill your spirit","So many of us need so much less than we have especially when so many of us are in need","Speak God's truth to power","The media tries to kill our heroes one at a time","The world needs more Joy... this idea is super fresh","There are 5 main pillars in a professional musicians business - Recording, Publishing, Touring, Merchandise & Name and likeness","There are people sleeping in parking lots","There's a crying need for civility across the board. We need to and will come together in the name of Jesus.","There's so many lonely emojis man","Trust me ... I won't stop","Two years ago we had 50 million people subscribed to music streaming services around the world. Today we have 400 million.","We are here to complete the revolution. We are building the future","We as a people will heal. We will insure the well being of each other","We have to evolve","We must and will cure homelessness and hunger. We have the capability as a species","We must form a union. We must unify","We used to diss Michael Jackson the media made us call him crazy ... then they killed him","We will be recognized","We will change the paradigm","We will cure hunger","We will heal. We will cure.","We're going to move the entire music industry into the 21st Century","We've gotten comfortable with not having what we deserve","Who made up the term major label in the first place???","Winning is the only option","For me to say I wasn't a genius I'd just be lying to you and to myself","I've known my mom since I was zero years old. She is quite dope.","I don't expect to be understood at all.","I'm on the pursuit of awesomeness, excellence is the bare minimum.","You basically can say anything to someone on an email or text as long as you put LOL at the end."])};if(s(),ScrollReveal().noop)void this;else{const e={desktop:!0,mobile:!1,delay:0,duration:300,easing:"ease-out",reset:!0,distance:"6.16%",origin:"bottom",delay:0,beforeReveal:()=>{},afterReveal:()=>{}},t=()=>{const e=document.createElement("span"),t=document.createTextNode("v1.3a");e.appendChild(t),Object.assign(e.style,{color:"var(--secondary)",fontSize:"0.616em"}),document.querySelector(".logo").appendChild(e)};t(),ScrollReveal().reveal(document.querySelectorAll(".logo")[0].childNodes[0],{...e}),ScrollReveal().reveal(document.querySelectorAll(".logo")[0].childNodes[1],{...e,delay:e.delay+=25}),ScrollReveal().reveal(document.querySelectorAll(".logo")[0].childNodes[2],{...e,delay:e.delay+=25});for(const t of document.querySelectorAll("ul#menu")[0].childNodes)ScrollReveal().reveal(t,{...e,delay:e.delay+=25,origin:"left"})}})</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>