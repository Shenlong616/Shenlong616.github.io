<script defer>
  document.addEventListener("DOMContentLoaded", () => {
    const randomArray = (array) => {
      return array[Math.floor(Math.random() * array.length)];
    };

    const createElementHelloText = () => {
      const spanElement = document.createElement("span");
      const textNode = document.createTextNode(
        `${randomArray(multilanguageHelloText).hello}`
      );

      spanElement.appendChild(textNode);
      spanElement.style.cssText = `color: var(--secondary);
                                   font-size: 0.616em;`;

      document.querySelector(".logo").appendChild(spanElement);
    };

    createElementHelloText();

    async function randomQuote() {
      // https://github.com/quotable-io/data/blob/master/data/quotes.json
      const response = await fetch("/../../assets/js/json/quotes.json?v=0.3.2");
      const data = await response.json();
      if (response.ok) {
        const randomJSONData = randomArray(data);
        document.getElementsByName("quoteAuthor")[0].textContent =
          randomJSONData.author;
        document.getElementsByName("quoteContent")[0].textContent =
          randomJSONData.content;
      }
    }

    if (
      document.getElementsByName("quoteAuthor")[0] !== undefined &&
      document.getElementsByName("quoteContent")[0] !== undefined
    ) {
      randomQuote();
    }

    if (document.getElementsByClassName("breadcrumbs").length > 0) {
      [...document.querySelectorAll(".breadcrumbs a")].at(
        -1
      ).style.cssText = `color: var(--color_5) !important;`;
    }

    const highlightHighestNumberOfTermsTags = () => {
      var numberOfTermsTagsList = [];
      for (const item of document.querySelectorAll(".terms-tags strong sup")) {
        numberOfTermsTagsList.push(item.childNodes[0].data);
      }

      for (const item of document.querySelectorAll(".terms-tags strong sup")) {
        if (
          item.childNodes[0].data ==
          Math.max(...[...new Set(numberOfTermsTagsList)])
        ) {
          item.style.cssText = `color:var(--color_4)`;
        }
      }
    };

    if (document.querySelectorAll(".terms-tags strong sup").length > 0) {
      highlightHighestNumberOfTermsTags();
    }
  });
</script>
